{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/os-browserify/browser.js","webpack:///./src/js/controller.js","webpack:///./src/main.js"],"names":["Controller","canvas","context","backgroundImage","trumpSprite","slingX","slingY","targetCount","canvasWidth","width","canvasHeight","height","trumpSize","screenOffset","startOffset","x","y","stretchX","stretchY","releaseX","releaseY","dragStartX","frame","counter","mode","targetsRemaining","targets","i","target","alive","push","mouseDown","bind","mouseMove","up","reset","newGame","start","move","loop","e","pointerX","clientX","pointerY","clientY","Math","random","clearRect","drawImage","beginPath","moveTo","lineTo","stroke","fitToContainer","style","offsetWidth","offsetHeight","window","addEventListener","document","getElementById","getContext","backgroundImg","Image","trumpImg","src","control","loaded","complete","requestAnimationFrame","onload"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","class Controller {\n\n    /* ---------- CONSTRUCTOR ----------*/\n    constructor(canvas, context, backgroundImage, trumpSprite, slingX, slingY, targetCount) {\n        this.canvas = canvas;\n        this.context = context;\n        this.canvasWidth = canvas.width;\n        this.canvasHeight = canvas.height;\n        this.backgroundImage = backgroundImage;\n        this.trumpSprite = trumpSprite;\n        // this.targetImage = new Image();\n        // this.targetImage.src = \"assets/icon.png\"\n        this.trumpSize = 256\n        this.screenOffset = 0;\n        this.startOffset;\n        this.slingX = slingX;\n        this.slingY = slingY;\n        this.x = slingX;\n        this.y = slingY;\n        this.stretchX;\n        this.stretchY;\n        this.releaseX;\n        this.releaseY;\n        this.dragStartX;\n        this.frame = 0;\n        this.counter = 0;\n        this.mode = \"ready\";\n        this.targetCount = targetCount;\n        this.targetsRemaining;\n\n        this.targets = [];\n        for (let i = 0; i < this.targetCount; i++) {\n            let target = {\n                x: null,\n                y: null,\n                alive: null\n            };\n            this.targets.push(target);\n        }\n\n        this.mouseDown = this.mouseDown.bind(this);\n        this.mouseMove = this.mouseMove.bind(this);\n        this.up = this.up.bind(this);\n        this.reset = this.reset.bind(this);\n        this.newGame = this.newGame.bind(this);\n        this.start = this.start.bind(this);\n        this.move = this.move.bind(this);\n        this.loop = this.loop.bind(this);\n\n    }\n\n\n    \n    /* ---------- EVENT HANDLER CALLBACKS ----------*/\n\n    //Captures (x, y) of cursor BEFORE release to pass to start function\n    mouseDown(e) {\n        let pointerX = e.clientX;\n        let pointerY = e.clientY;\n        this.start(pointerX, pointerY);\n    }\n\n    //Capture (x, y) of cursor AFTER release to pass to start function\n    mouseMove(e) {\n        let pointerX = e.clientX; \n        let pointerY = e.clientY;\n        this.move(pointerX, pointerY);\n    }\n\n    //On mouse release captures release (x, y) and stretch (x, y)\n    up(e) {\n        if (this.mode === 'stretch') {\n            this.mode = 'fly';\n            this.frame = this.trumpSize/2;\n            this.releaseX = this.x;\n            this.releaseY = this.y;\n            this.stretchX = (this.slingX - this.x);\n            this.stretchY = (this.slingY - this.y);\n        }\n        if (this.mode === 'drag') this.mode = 'ready';\n    }\n\n\n\n    /* ---------- Physics/Logic ----------*/\n\n    //Reset variables\n    reset() {\n        this.frame = 0;\n        this.x = this.slingX;\n        this.y = this.slingY;\n        this.screenOffset = 0;\n        this.counter = 0;\n        this.mode = 'ready';\n    }\n\n    //Reset game and randomize target placement\n    newGame() {\n        this.targetsRemaining = this.targetCount;\n        for (let i = 0; i < this.targetCount; i++) {\n            this.targets[i] = {\n                x: this.slingX * 2 + Math.random() * 2 * this.canvasWidth, //Will change when generating levels\n                y: Math.random() * (this.canvasHeight - this.trumpSize),\n                alive: true\n            };\n        }\n        this.reset();\n    }\n\n    //Change between stretch/drag modes\n    start(pointerX, pointerY) {\n        if (this.mode === 'ready') {\n\n            //When player drags Trump, mode = stretch\n            if (pointerX > this.x - this.screenOffset && pointerX < this.x - this.screenOffset + this.trumpSize && pointerY > this.y && pointerY < this.y + this.trumpSize) {\n                this.mode = 'stretch';\n            }\n\n            //If player drags map, mode = drag\n            else {\n                this.dragStartX = pointerX;\n                this.mode = 'drag';\n                this.startOffset = this.screenOffset;\n            }\n        }\n    }\n\n    //Moves Trump to given coordinates or changes screen offset based on drag distance\n    move(pointerX, pointerY) {\n        if (this.mode === 'stretch') {\n            this.x = pointerX + this.screenOffset;\n            this.y = pointerY;\n        }\n        if (this.mode === 'drag') {\n            this.screenOffset = this.startOffset + this.dragStartX - pointerX;\n        }\n    }\n\n\n    //Main game loop\n    loop() {\n        this.context.clearRect(0, 0, this.canvasWidth, this.canvasHeight); //Clear canvas\n        this.context.drawImage(this.backgroundImage, this.screenOffset, 0, this.canvasWidth, this.canvasHeight, 0, 0, this.canvasWidth, this.canvasHeight); //Draw background with offset\n        this.context.drawImage(this.trumpSprite, this.frame, this.canvasHeight, this.trumpSize, this.trumpSize, this.x - this.screenOffset, this.y, this.trumpSize / 2, this.trumpSize / 2);\n\n        //When stretching shot, draw line from top of shot to center of character\n        if (this.mode === 'stretch') {\n            this.context.beginPath();\n            this.context.moveTo(this.slingX - this.screenOffset, this.slingY); //Start at sling's (x, y) coordinate\n            this.context.lineTo(this.x - this.screenOffset + this.trumpSize / 4, this.y + this.trumpSize / 4); //\n            this.context.stroke();\n        }\n\n        //When in fly this.mode, recalculate Trump's coordinates and screenOffset\n        if (this.mode === 'fly') {\n            this.x = this.releaseX + this.stretchX * this.counter / 10; //Horizontal change  = Point of release  plus the force of stretch \n            this.y = this.releaseY + this.stretchY * (this.counter / 10) + (this.counter / 4) * (this.counter / 4); //Vertical change = Point of release  plus the force of stretch increased by frame counter^2 (Divide by 4 to simulate gravity)\n            this.screenOffset = this.screenOffset + this.stretchX / 10;\n            this.counter++; //How many frames of elapsed since release\n            if (this.y > this.canvasWidth) this.newGame(); //If out of bounds, call newTrump\n        }\n\n        \n\n        // //Draw targets\n        // for (let i = 0; i < this.targetCount; i++) {\n        //     let target = targets[i];\n        //     this.context.drawImage(this.targets, 200 * (2 + this.target.alive), this.canvasHeight, 200, 200, this.target.x - this.screenOffset, this.target.y, 200, 200);\n        //     if (target.alive) {\n        //         if (x + trumpSize > target.x && x < target.x + trumpSize && y + trumpSize > target.y && y < target.y + trumpSize) {\n        //             this.target.alive = false; //Set false if target hit\n        //             this.targetsRemaining--;\n        //             if (this.targetsRemaining === 0) {\n        //                 this.newGame();\n        //             }\n        //         }\n        //     }\n        // }\n    }\n}\n\nexport default Controller;","import Controller from \"./js/controller\";\nimport { loadavg } from \"os\";\n\n//Fit canvas to container\nfunction fitToContainer(canvas) {\n    canvas.style.width = '100%';\n    canvas.style.height = '100%';\n    canvas.width = canvas.offsetWidth;\n    canvas.height = canvas.offsetHeight;\n    canvas.style = \"position: absolute; left:0; top:0;\";\n}\n\n\n\n//Executes scripts\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n    let canvas = document.getElementById(\"canvas\");\n    let context = canvas.getContext('2d')\n    fitToContainer(canvas);\n\n    let backgroundImg = new Image();\n    let trumpImg = new Image();\n    backgroundImg.src = \"assets/golf-background.jpg\";\n    trumpImg.src = \"assets/still.png\"\n\n    let control = new Controller (canvas, context, backgroundImg, trumpImg, 400, 200, 5)\n    canvas.addEventListener('mousedown', control.mouseDown)\n    canvas.addEventListener('mousemove', control.mouseMove)\n    canvas.addEventListener('mouseup', control.up)\n\n    const loaded = () => {\n        if(backgroundImg.complete && trumpImg.complete) {\n            control.loop();\n        }\n\n        window.requestAnimationFrame(loaded)\n    }\n    \n    backgroundImg.onload = loaded()\n    // trumpImg.onload = loaded()\n\n\n    \n})\n    \n\n\n\n\n\n\n// function fitToContainer(canvas) {\n//     canvas.style.width = '100%';\n//     canvas.style.height = '100%';\n//     canvas.width = canvas.offsetWidth;\n//     canvas.height = canvas.offsetHeight;\n// }\n\n// window.addEventListener(\"DOMContentLoaded\", () => {\n//     debugger\n//     const canvas = document.getElementById('canvas')\n//     const ctx = canvas.getContext('2d')\n//     fitToContainer(canvas)\n\n//     debugger\n//     let animation = new Animation(\"still\");\n//     animation.change(\"still\")\n//     debugger\n//     animation.render(ctx);\n\n    \n// })"],"sourceRoot":""}
